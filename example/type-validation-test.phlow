main: cli
name: type-validation-test
version: 1.0.0
description: Test type validation for all data types
modules:
  - module: test-types-module
    with:
      # String validations
      valid_string: "hello world"           # ✅ Valid string
      unquoted_string: hello                # ✅ Valid unquoted string
      empty_string: ""                      # ✅ Valid empty string

      # Number validations
      valid_number: 42                      # ✅ Valid number
      valid_float: 3.14                     # ✅ Valid float
      valid_number: 100                    # ✅ Valid number
      invalid_number: "not a number"       # ❌ Should show error

      # Boolean validations
      valid_true: true                      # ✅ Valid boolean
      valid_false: false                    # ✅ Valid boolean
      quoted_boolean: "true"                # ✅ Valid quoted boolean
      invalid_boolean: maybe                # ❌ Should show error

      # Array validations
      inline_array: [1, 2, 3]              # ✅ Valid inline array
      empty_array: []                       # ✅ Valid empty array
      multiline_array:                      # ✅ Valid multiline array start
        - item1
        - item2
      invalid_array: "not an array"        # ❌ Should show error

      # Object validations
      inline_object: {key: value}           # ✅ Valid inline object
      empty_object: {}                      # ✅ Valid empty object
      multiline_object:                     # ✅ Valid multiline object start
        nested_key: nested_value
        another_key: another_value
      invalid_object: "not an object"      # ❌ Should show error

      # Enum validations
      valid_log_level: debug                # ✅ Valid enum value
      invalid_log_level: trace             # ❌ Should show error - not in enum

      # PHS expressions (should skip validation)
      dynamic_string: !phs envs.APP_NAME   # ✅ Should skip validation
      dynamic_number: !phs envs.PORT ?? 3000  # ✅ Should skip validation

steps:
  - payload:
      message: "Type validation test"
  - return: !phs payload

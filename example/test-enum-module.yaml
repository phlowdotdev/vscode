name: test-enum-module
version: 1.0.0
description: Test module with enum properties for validation testing
type: script
with:
  log_level:
    type: string
    enum: ["debug", "info", "warn", "error"]
    default: "info"
    description: "Logging level for the application"
  environment:
    type: string
    enum: ["development", "staging", "production"]
    required: true
    description: "Application environment"
  ssl_mode:
    type: string
    enum: ["disable", "allow", "prefer", "require"]
    default: "prefer"
    description: "SSL connection mode"
  port:
    type: number
    default: 3000
    description: "Port number (not an enum)"
  debug_enabled:
    type: boolean
    enum: [true, false]
    default: false
    description: "Enable debug mode"
  max_connections:
    type: number
    enum: [10, 50, 100, 500]
    default: 100
    description: "Maximum number of connections"
steps:
  - payload:
      config:
        log_level: !phs with.log_level
        environment: !phs with.environment
        ssl_mode: !phs with.ssl_mode
        port: !phs with.port
        debug: !phs with.debug_enabled
        max_conn: !phs with.max_connections
  - return: !phs payload
